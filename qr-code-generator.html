<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QR Code Generator with Logo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3a0ca3;
      --success: #4cc9f0;
      --dark: #2b2d42;
      --light: #f8f9fa;
      --danger: #e63946;
      --warning: #fca311;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      max-width: 1000px;
      width: 100%;
      background: white;
      border-radius: 20px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      overflow: hidden;
    }

    header {
      background: var(--primary);
      color: white;
      padding: 25px 30px;
      text-align: center;
    }

    header h1 {
      font-size: 2.2rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    header p {
      opacity: 0.9;
      font-size: 1.1rem;
    }

    .content {
      display: flex;
      flex-wrap: wrap;
      padding: 0;
    }

    .settings-panel {
      flex: 1;
      min-width: 300px;
      padding: 30px;
      background: var(--light);
      border-right: 1px solid #eaeaea;
    }

    .preview-panel {
      flex: 1;
      min-width: 300px;
      padding: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .form-group {
      margin-bottom: 25px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--dark);
      font-size: 1rem;
    }

    input, select {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e1e5ee;
      border-radius: 10px;
      font-size: 1rem;
      transition: all 0.3s;
    }

    input:focus, select:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .input-with-icon {
      position: relative;
    }

    .input-with-icon i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #6c757d;
    }

    .input-with-icon input {
      padding-left: 45px;
    }

    .color-group {
      display: flex;
      gap: 15px;
    }

    .color-input {
      flex: 1;
    }

    .color-input input {
      height: 50px;
      padding: 5px;
    }

    .range-value {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    .checkbox-group input {
      width: auto;
    }

    .buttons {
      display: flex;
      gap: 15px;
      margin-top: 30px;
    }

    button {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--secondary);
      transform: translateY(-3px);
      box-shadow: 0 7px 15px rgba(67, 97, 238, 0.3);
    }

    .btn-success {
      background: var(--success);
      color: white;
    }

    .btn-success:hover {
      background: #38b2d6;
      transform: translateY(-3px);
      box-shadow: 0 7px 15px rgba(76, 201, 240, 0.3);
    }

    .btn-outline {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-outline:hover {
      background: rgba(67, 97, 238, 0.1);
    }

    #qrcode {
      margin: 25px 0;
      padding: 20px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 300px;
      width: 100%;
      position: relative;
    }

    .qr-placeholder {
      text-align: center;
      color: #6c757d;
    }

    .qr-placeholder i {
      font-size: 4rem;
      margin-bottom: 15px;
      color: #dee2e6;
    }

    .qr-placeholder p {
      font-size: 1.1rem;
    }

    .download-options {
      width: 100%;
      margin-top: 20px;
    }

    .download-options h3 {
      margin-bottom: 15px;
      color: var(--dark);
      text-align: center;
    }

    .format-options {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .format-option {
      flex: 1;
      padding: 12px;
      text-align: center;
      border: 2px solid #e1e5ee;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }

    .format-option.active {
      border-color: var(--primary);
      background: rgba(67, 97, 238, 0.1);
      color: var(--primary);
    }

    .history-panel {
      width: 100%;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eaeaea;
    }

    .history-panel h3 {
      margin-bottom: 15px;
      color: var(--dark);
    }

    .history-items {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 10px 0;
    }

    .history-item {
      min-width: 80px;
      height: 80px;
      border: 2px solid #e1e5ee;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .history-item:hover {
      border-color: var(--primary);
    }

    .history-item img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 8px;
    }

    .empty-history {
      text-align: center;
      color: #6c757d;
      padding: 20px;
    }

    footer {
      text-align: center;
      padding: 20px;
      color: #6c757d;
      font-size: 0.9rem;
      border-top: 1px solid #eaeaea;
    }

    @media (max-width: 768px) {
      .content {
        flex-direction: column;
      }
      
      .settings-panel {
        border-right: none;
        border-bottom: 1px solid #eaeaea;
      }
    }

    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 15px 25px;
      background: var(--dark);
      color: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.5s;
      z-index: 1000;
    }

    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    .qr-code-image {
      max-width: 100%;
      height: auto;
    }
    
    .logo-preview {
      max-width: 80px;
      max-height: 80px;
      border-radius: 8px;
      margin-top: 10px;
      display: none;
    }
    
    .logo-controls {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    
    .logo-controls button {
      flex: 1;
      padding: 8px 12px;
      font-size: 0.9rem;
    }
    
    .logo-options {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    
    .logo-tab {
      flex: 1;
      text-align: center;
      padding: 10px;
      background: #f1f3f9;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }
    
    .logo-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .logo-option-content {
      margin-top: 15px;
    }
    
    .logo-option {
      display: none;
    }
    
    .logo-option.active {
      display: block;
    }
    
    .logo-size-control {
      margin-top: 15px;
    }
    
    .file-input-wrapper {
      position: relative;
      overflow: hidden;
      display: inline-block;
      width: 100%;
    }
    
    .file-input-wrapper input[type=file] {
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }
    
    .file-input-button {
      display: block;
      padding: 12px;
      background: #f1f3f9;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .file-input-button:hover {
      background: #e2e6f0;
    }
    
    .logo-on-qr {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 20%;
      max-height: 20%;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1><i class="fas fa-qrcode"></i> QR Code Generator with Logo</h1>
      <p>Create customized QR codes with your own logo</p>
    </header>
    
    <div class="content">
      <div class="settings-panel">
        <div class="form-group">
          <label for="contentType">Content Type</label>
          <select id="contentType">
            <option value="url">Website URL</option>
            <option value="text">Plain Text</option>
            <option value="email">Email</option>
            <option value="phone">Phone Number</option>
            <option value="sms">SMS</option>
            <option value="wifi">WiFi Network</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="qrContent">Content</label>
          <div class="input-with-icon">
            <i class="fas fa-link" id="contentIcon"></i>
            <input type="text" id="qrContent" placeholder="https://example.com">
          </div>
        </div>
        
        <div class="form-group">
          <label for="qrSize">QR Code Size</label>
          <input type="range" id="qrSize" min="100" max="500" value="200">
          <div class="range-value">
            <span>Small</span>
            <span id="sizeValue">200px</span>
            <span>Large</span>
          </div>
        </div>
        
        <div class="color-group">
          <div class="color-input form-group">
            <label for="darkColor">Dark Color</label>
            <input type="color" id="darkColor" value="#000000">
          </div>
          <div class="color-input form-group">
            <label for="lightColor">Light Color</label>
            <input type="color" id="lightColor" value="#FFFFFF">
          </div>
        </div>
        
        <div class="form-group">
          <label for="errorCorrection">Error Correction</label>
          <select id="errorCorrection">
            <option value="L">Low (7%)</option>
            <option value="M">Medium (15%)</option>
            <option value="Q">Quartile (25%)</option>
            <option value="H" selected>High (30%)</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Logo Options</label>
          <div class="logo-options">
            <div class="logo-tab active" data-tab="upload">Upload</div>
            <div class="logo-tab" data-tab="url">URL</div>
            <div class="logo-tab" data-tab="none">No Logo</div>
          </div>
          
          <div class="logo-option-content">
            <div class="logo-option active" id="upload-option">
              <div class="file-input-wrapper">
                <div class="file-input-button">
                  <i class="fas fa-upload"></i> Choose Logo File
                </div>
                <input type="file" id="logoFile" accept="image/*">
              </div>
              <div id="logoFileName" style="margin-top: 10px; font-size: 0.9rem; color: #6c757d;"></div>
              <img id="uploadedLogoPreview" class="logo-preview" alt="Logo preview">
            </div>
            
            <div class="logo-option" id="url-option">
              <input type="text" id="logoUrl" placeholder="https://example.com/logo.png">
              <button class="btn-outline" onclick="loadLogoFromUrl()" style="margin-top: 10px; width: 100%;">
                <i class="fas fa-download"></i> Load Logo
              </button>
              <img id="urlLogoPreview" class="logo-preview" alt="Logo preview">
            </div>
          </div>
          
          <div class="logo-size-control">
            <label for="logoSize">Logo Size</label>
            <input type="range" id="logoSize" min="10" max="30" value="20">
            <div class="range-value">
              <span>Small</span>
              <span id="logoSizeValue">20%</span>
              <span>Large</span>
            </div>
          </div>
        </div>
        
        <div class="buttons">
          <button class="btn-primary" onclick="generateQR()">
            <i class="fas fa-bolt"></i> Generate QR Code
          </button>
          <button class="btn-outline" onclick="resetSettings()">
            <i class="fas fa-redo"></i> Reset
          </button>
        </div>
      </div>
      
      <div class="preview-panel">
        <div id="qrcode">
          <div class="qr-placeholder">
            <i class="fas fa-qrcode"></i>
            <p>Your QR code will appear here</p>
          </div>
        </div>
        
        <div class="download-options">
          <h3>Download Options</h3>
          <div class="format-options">
            <div class="format-option active" data-format="png">PNG</div>
            <div class="format-option" data-format="jpg">JPG</div>
            <div class="format-option" data-format="svg">SVG</div>
          </div>
          <button class="btn-success" id="downloadBtn" onclick="downloadQR()" disabled>
            <i class="fas fa-download"></i> Download QR Code
          </button>
        </div>
        
        <div class="history-panel">
          <h3>Recently Generated</h3>
          <div class="history-items" id="historyContainer">
            <div class="empty-history">No QR codes generated yet</div>
          </div>
        </div>
      </div>
    </div>
    
    <footer>
      <p>QR Code Generator with Logo &copy; 2023 | All rights reserved</p>
    </footer>
  </div>
  
  <div class="notification" id="notification">QR Code downloaded successfully!</div>

  <!-- QRCode.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  
  <script>
    let qrCodeInstance = null;
    let currentQRData = null;
    let history = JSON.parse(localStorage.getItem('qrHistory')) || [];
    let selectedFormat = 'png';
    let currentLogo = null;
    let logoType = 'upload';
    
    // Update content placeholder and icon based on content type
    document.getElementById('contentType').addEventListener('change', function() {
      updateContentPlaceholder();
    });
    
    // Update QR code size value display
    document.getElementById('qrSize').addEventListener('input', function() {
      document.getElementById('sizeValue').textContent = this.value + 'px';
    });
    
    // Update logo size value display
    document.getElementById('logoSize').addEventListener('input', function() {
      document.getElementById('logoSizeValue').textContent = this.value + '%';
    });
    
    // Set up format options
    document.querySelectorAll('.format-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.format-option').forEach(opt => {
          opt.classList.remove('active');
        });
        this.classList.add('active');
        selectedFormat = this.getAttribute('data-format');
      });
    });
    
    // Set up logo tabs
    document.querySelectorAll('.logo-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.logo-tab').forEach(t => {
          t.classList.remove('active');
        });
        this.classList.add('active');
        
        logoType = this.getAttribute('data-tab');
        
        document.querySelectorAll('.logo-option').forEach(option => {
          option.classList.remove('active');
        });
        document.getElementById(`${logoType}-option`).classList.add('active');
        
        if (logoType === 'none') {
          currentLogo = null;
        }
      });
    });
    
    // Handle file upload
    document.getElementById('logoFile').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (!file) return;
      
      if (!file.type.match('image.*')) {
        showNotification('Please select an image file', 'error');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = function(e) {
        currentLogo = e.target.result;
        document.getElementById('uploadedLogoPreview').src = currentLogo;
        document.getElementById('uploadedLogoPreview').style.display = 'block';
        document.getElementById('logoFileName').textContent = `Selected: ${file.name}`;
      };
      reader.readAsDataURL(file);
    });
    
    // Initialize content placeholder
    updateContentPlaceholder();
    
    function updateContentPlaceholder() {
      const type = document.getElementById('contentType').value;
      const contentInput = document.getElementById('qrContent');
      const contentIcon = document.getElementById('contentIcon');
      
      switch(type) {
        case 'url':
          contentInput.placeholder = 'https://example.com';
          contentIcon.className = 'fas fa-link';
          break;
        case 'text':
          contentInput.placeholder = 'Enter your text here...';
          contentIcon.className = 'fas fa-font';
          break;
        case 'email':
          contentInput.placeholder = 'email@example.com';
          contentIcon.className = 'fas fa-envelope';
          break;
        case 'phone':
          contentInput.placeholder = '+1 (123) 456-7890';
          contentIcon.className = 'fas fa-phone';
          break;
        case 'sms':
          contentInput.placeholder = '+1 (123) 456-7890';
          contentIcon.className = 'fas fa-sms';
          break;
        case 'wifi':
          contentInput.placeholder = 'WIFI:S:MyNetwork;T:WPA;P:MyPassword;;';
          contentIcon.className = 'fas fa-wifi';
          break;
      }
    }
    
    function loadLogoFromUrl() {
      const url = document.getElementById('logoUrl').value.trim();
      if (!url) {
        showNotification('Please enter a logo URL', 'error');
        return;
      }
      
      // Create an image to test if the URL is valid
      const img = new Image();
      img.crossOrigin = 'Anonymous';
      img.onload = function() {
        // Create a canvas to convert the image to data URL
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0);
        
        currentLogo = canvas.toDataURL('image/png');
        document.getElementById('urlLogoPreview').src = currentLogo;
        document.getElementById('urlLogoPreview').style.display = 'block';
        showNotification('Logo loaded successfully!');
      };
      
      img.onerror = function() {
        showNotification('Failed to load logo from URL. Please check the URL and try again.', 'error');
      };
      
      img.src = url;
    }
    
    function generateQR() {
      const content = document.getElementById('qrContent').value.trim();
      const size = parseInt(document.getElementById('qrSize').value);
      const darkColor = document.getElementById('darkColor').value;
      const lightColor = document.getElementById('lightColor').value;
      const errorCorrection = document.getElementById('errorCorrection').value;
      
      if (!content) {
        showNotification('Please enter content for the QR code', 'error');
        return;
      }
      
      // Format content based on type
      const type = document.getElementById('contentType').value;
      let formattedContent = content;
      
      switch(type) {
        case 'url':
          if (!content.startsWith('http://') && !content.startsWith('https://')) {
            formattedContent = 'https://' + content;
          }
          break;
        case 'email':
          formattedContent = `mailto:${content}`;
          break;
        case 'phone':
          formattedContent = `tel:${content.replace(/\D/g, '')}`;
          break;
        case 'sms':
          formattedContent = `sms:${content.replace(/\D/g, '')}`;
          break;
        case 'wifi':
          if (!content.startsWith('WIFI:')) {
            formattedContent = `WIFI:S:${content};T:WPA;P:password;;`;
          }
          break;
      }
      
      const qrContainer = document.getElementById('qrcode');
      qrContainer.innerHTML = '';
      
      try {
        // Clear any previous QR code
        if (qrCodeInstance) {
          qrCodeInstance.clear();
        }
        
        // Create new QR code
        qrCodeInstance = new QRCode(qrContainer, {
          text: formattedContent,
          width: size,
          height: size,
          colorDark: darkColor,
          colorLight: lightColor,
          correctLevel: QRCode.CorrectLevel[errorCorrection]
        });
        
        // Store QR data for download
        currentQRData = {
          content: formattedContent,
          size: size,
          darkColor: darkColor,
          lightColor: lightColor,
          logo: currentLogo,
          logoSize: document.getElementById('logoSize').value
        };
        
        // Enable download button after a short delay to ensure QR code is rendered
        setTimeout(() => {
          document.getElementById('downloadBtn').disabled = false;
          
          // Add logo to QR code if available
          if (currentLogo && logoType !== 'none') {
            addLogoToQR(qrContainer, currentLogo, document.getElementById('logoSize').value);
          }
          
          // Add to history
          addToHistory(qrContainer, formattedContent);
          
          showNotification('QR Code generated successfully!');
        }, 300);
        
      } catch (error) {
        console.error('Error generating QR code:', error);
        showNotification('Error generating QR code: ' + error.message, 'error');
      }
    }
    
    function addLogoToQR(qrContainer, logoDataUrl, logoSizePercent) {
      const canvas = qrContainer.querySelector('canvas');
      if (!canvas) return;
      
      const ctx = canvas.getContext('2d');
      const logoSize = canvas.width * (logoSizePercent / 100);
      
      // Create logo image
      const logoImg = new Image();
      logoImg.onload = function() {
        // Calculate position to center the logo
        const x = (canvas.width - logoSize) / 2;
        const y = (canvas.height - logoSize) / 2;
        
        // Draw logo on QR code
        ctx.drawImage(logoImg, x, y, logoSize, logoSize);
        
        // Also add the logo as an overlay element for display purposes
        const existingOverlay = qrContainer.querySelector('.logo-on-qr');
        if (existingOverlay) {
          existingOverlay.remove();
        }
        
        const logoOverlay = document.createElement('img');
        logoOverlay.src = logoDataUrl;
        logoOverlay.className = 'logo-on-qr';
        logoOverlay.style.width = `${logoSize}px`;
        logoOverlay.style.height = `${logoSize}px`;
        qrContainer.appendChild(logoOverlay);
      };
      logoImg.src = logoDataUrl;
    }
    
    function addToHistory(qrContainer, content) {
      // Get the canvas element from the QR code
      const canvas = qrContainer.querySelector('canvas');
      if (!canvas) {
        console.error('No canvas found in QR container');
        return;
      }
      
      // Convert canvas to data URL
      const dataURL = canvas.toDataURL('image/png');
      
      const historyItem = {
        id: Date.now(),
        content: content.substring(0, 30) + (content.length > 30 ? '...' : ''),
        dataURL: dataURL,
        timestamp: new Date().toLocaleString()
      };
      
      history.unshift(historyItem);
      
      // Keep only last 6 items
      if (history.length > 6) {
        history.pop();
      }
      
      // Save to localStorage
      localStorage.setItem('qrHistory', JSON.stringify(history));
      
      // Update history display
      renderHistory();
    }
    
    function renderHistory() {
      const historyContainer = document.getElementById('historyContainer');
      
      if (history.length === 0) {
        historyContainer.innerHTML = '<div class="empty-history">No QR codes generated yet</div>';
        return;
      }
      
      historyContainer.innerHTML = '';
      
      history.forEach(item => {
        const historyItem = document.createElement('div');
        historyItem.className = 'history-item';
        historyItem.innerHTML = `<img src="${item.dataURL}" alt="${item.content}">`;
        historyItem.title = `${item.content}\nGenerated: ${item.timestamp}`;
        
        historyItem.addEventListener('click', function() {
          // Load this QR code into the preview
          const qrContainer = document.getElementById('qrcode');
          qrContainer.innerHTML = `<img src="${item.dataURL}" alt="${item.content}" class="qr-code-image">`;
          document.getElementById('downloadBtn').disabled = false;
          currentQRData = { dataURL: item.dataURL };
        });
        
        historyContainer.appendChild(historyItem);
      });
    }
    
    function downloadQR() {
      if (!currentQRData) {
        showNotification('No QR code available to download', 'error');
        return;
      }
      
      const qrContainer = document.getElementById('qrcode');
      const canvas = qrContainer.querySelector('canvas');
      const img = qrContainer.querySelector('img.qr-code-image');
      
      if (!canvas && !img) {
        showNotification('No QR code available to download', 'error');
        return;
      }
      
      let dataURL, filename;
      
      if (canvas) {
        // For canvas elements, convert to data URL
        const quality = selectedFormat === 'jpg' ? 0.92 : 1.0;
        dataURL = canvas.toDataURL(`image/${selectedFormat}`, quality);
      } else if (img) {
        // For img elements, use the src directly
        dataURL = img.src;
      }
      
      filename = `qr-code-${Date.now()}.${selectedFormat}`;
      
      const link = document.createElement('a');
      link.href = dataURL;
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      showNotification('QR Code downloaded successfully!');
    }
    
    function resetSettings() {
      document.getElementById('qrContent').value = '';
      document.getElementById('qrSize').value = 200;
      document.getElementById('sizeValue').textContent = '200px';
      document.getElementById('darkColor').value = '#000000';
      document.getElementById('lightColor').value = '#FFFFFF';
      document.getElementById('errorCorrection').value = 'H';
      document.getElementById('logoSize').value = 20;
      document.getElementById('logoSizeValue').textContent = '20%';
      document.getElementById('logoFile').value = '';
      document.getElementById('logoFileName').textContent = '';
      document.getElementById('logoUrl').value = '';
      document.getElementById('uploadedLogoPreview').style.display = 'none';
      document.getElementById('urlLogoPreview').style.display = 'none';
      
      // Reset logo tabs
      document.querySelectorAll('.logo-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelector('[data-tab="upload"]').classList.add('active');
      
      document.querySelectorAll('.logo-option').forEach(option => {
        option.classList.remove('active');
      });
      document.getElementById('upload-option').classList.add('active');
      
      logoType = 'upload';
      currentLogo = null;
      
      const qrContainer = document.getElementById('qrcode');
      qrContainer.innerHTML = `
        <div class="qr-placeholder">
          <i class="fas fa-qrcode"></i>
          <p>Your QR code will appear here</p>
        </div>
      `;
      
      document.getElementById('downloadBtn').disabled = true;
      currentQRData = null;
      
      showNotification('Settings reset to default');
    }
    
    function showNotification(message, type = 'success') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      
      // Set color based on type
      if (type === 'error') {
        notification.style.background = 'var(--danger)';
      } else {
        notification.style.background = 'var(--success)';
      }
      
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    // Initialize history on page load
    renderHistory();
  </script>
</body>
</html>
